import{S as W,i as Z,s as J,l as Y,w as T,x as P,g as I,y as H,z as j,A as G,q as A,o as b,d as E,B,C as M,e as k,k as L,c as z,a as F,m as S,b as O,_ as K,V as Q,R as U,p as C,a0 as tt,a1 as et,n as it,T as nt,a2 as ot}from"../chunks/index-a1512193.js";import{B as rt,s as st,m as V}from"../chunks/FilterDialog-4d0e7f86.js";import pt from"./components/IndexMagicButton/index.svelte-9a59b565.js";import lt from"./components/PokeBox/index.svelte-dd3f851c.js";import mt from"./components/DetailPopup/index.svelte-1b3b7877.js";import"../chunks/Ripple-4e42e3fb.js";import"../chunks/index-db44a7a4.js";import"../chunks/tslib-2c74db2e.js";import"../chunks/_commonjsHelpers-850449cf.js";import"../chunks/isObject-4e76745d.js";import"../chunks/isObjectLike-8567252c.js";import"../chunks/isSymbol-cc5748dc.js";import"../chunks/index-3b993099.js";import"../chunks/index-e7bbd0d1.js";import"../chunks/draggable-d90d0b70.js";import"../chunks/styles-58aceedb.js";import"../chunks/_arrayMap-2f79ae2a.js";import"../chunks/index-e70ef76b.js";import"../chunks/functional-2a297cb6.js";import"../chunks/paths-c0fc83a9.js";import"../chunks/AttackTypeDialog-eb9fe048.js";import"../chunks/type-chart-calc-7219e8a7.js";import"../chunks/index-1a6731ea.js";import"../chunks/fetch-c004f49e.js";import"../chunks/preload-helper-936e422d.js";import"./components/DetailPopup/components/FormDetail.svelte-b5fae0c5.js";import"../chunks/SelectedArrow-277a1198.js";import"./components/DetailPopup/components/TitleTag.svelte-c96f4810.js";import"./components/DetailPopup/components/TypeChart.svelte-c1879068.js";import"./components/DetailPopup/components/AvailableTable.svelte-1629a421.js";import"./components/DetailPopup/components/AvailableItem.svelte-1d87edd9.js";import"./components/DetailPopup/components/EvoChain.svelte-8e543fb5.js";const at=300,ct=60,N="none";function x(p,e,o){return p.addEventListener(e,o),()=>p.removeEventListener(e,o)}function ut(p,e){return e.filter(o=>p.pointerId!==o.pointerId)}function y(p,e,o,i,n){p.dispatchEvent(new CustomEvent(`${e}${n}`,{detail:{event:o,pointersCount:i.length}}))}function ft(p,e,o,i,n,f=N){e.style.touchAction=f;let l=[];function r(s){l.push(s),y(e,p,s,l,"down"),i==null||i(l,s);const c=s.pointerId;function g(a){c===a.pointerId&&(l=ut(a,l),l.length||v(),y(e,p,a,l,"up"),n==null||n(l,a))}function v(){_(),$(),h(),w()}const _=x(e,"pointermove",a=>{l=l.map(t=>a.pointerId===t.pointerId?a:t),y(e,p,a,l,"move"),o==null||o(l,a)}),$=x(e,"lostpointercapture",a=>{g(a)}),h=x(e,"pointerup",a=>{g(a)}),w=x(e,"pointerleave",a=>{l=[],v(),y(e,p,a,l,"up"),n==null||n(l,a)})}const u=x(e,"pointerdown",r);return{destroy:()=>{u()}}}function dt(p,e={timeframe:at,minSwipeDistance:ct,touchAction:N}){const o="swipe";let i,n,f,l;function r(s,c){n=c.clientX,f=c.clientY,i=Date.now(),s.length===1&&(l=c.target)}function u(s,c){if(c.type==="pointerup"&&s.length===0&&Date.now()-i<e.timeframe){const g=c.clientX-n,v=c.clientY-f,_=Math.abs(g),$=Math.abs(v);let h=null;_>=2*$&&_>e.minSwipeDistance?h=g>0?"right":"left":$>=2*_&&$>e.minSwipeDistance&&(h=v>0?"bottom":"top"),h&&p.dispatchEvent(new CustomEvent(o,{detail:{direction:h,target:l}}))}}return ft(o,p,null,r,u,e.touchAction)}function q(p,e,o){const i=p.slice();return i[6]=e[o],i}function R(p,e){let o,i,n;const f=[e[6]];let l={};for(let r=0;r<f.length;r+=1)l=M(l,f[r]);return i=new lt({props:l}),i.$on("detail",e[2]),{key:p,first:null,c(){o=Y(),T(i.$$.fragment),this.h()},l(r){o=Y(),P(i.$$.fragment,r),this.h()},h(){this.first=o},m(r,u){I(r,o,u),H(i,r,u),n=!0},p(r,u){e=r;const s=u&2?j(f,[G(e[6])]):{};i.$set(s)},i(r){n||(A(i.$$.fragment,r),n=!0)},o(r){b(i.$$.fragment,r),n=!1},d(r){r&&E(o),B(i,r)}}}function _t(p){var a;let e,o,i,n=[],f=new Map,l,r,u,s,c,g,v,_=p[1];const $=t=>t[6].title;for(let t=0;t<_.length;t+=1){let m=q(p,_,t),d=$(m);f.set(d,n[t]=R(d,m))}r=new pt({});const h=[(a=p[0])!=null?a:{}];let w={};for(let t=0;t<h.length;t+=1)w=M(w,h[t]);return s=new mt({props:w}),s.$on("close",p[5]),{c(){e=k("div"),o=L(),i=k("div");for(let t=0;t<n.length;t+=1)n[t].c();l=L(),T(r.$$.fragment),u=L(),T(s.$$.fragment),this.h()},l(t){e=z(t,"DIV",{class:!0}),F(e).forEach(E),o=S(t),i=z(t,"DIV",{class:!0});var m=F(i);for(let d=0;d<n.length;d+=1)n[d].l(m);m.forEach(E),l=S(t),P(r.$$.fragment,t),u=S(t),P(s.$$.fragment,t),this.h()},h(){O(e,"class","background svelte-bghv9m"),O(i,"class","content svelte-bghv9m")},m(t,m){I(t,e,m),I(t,o,m),I(t,i,m);for(let d=0;d<n.length;d+=1)n[d].m(i,null);I(t,l,m),H(r,t,m),I(t,u,m),H(s,t,m),c=!0,g||(v=[K(dt.call(null,i)),Q(i,"swipe",p[3])],g=!0)},p(t,[m]){var X;m&6&&(_=t[1],it(),n=U(n,m,$,1,t,_,f,i,nt,R,null,q),C());const d=m&1?j(h,[G((X=t[0])!=null?X:{})]):{};s.$set(d)},i(t){if(!c){for(let m=0;m<_.length;m+=1)A(n[m]);A(r.$$.fragment,t),A(s.$$.fragment,t),c=!0}},o(t){for(let m=0;m<n.length;m+=1)b(n[m]);b(r.$$.fragment,t),b(s.$$.fragment,t),c=!1},d(t){t&&E(e),t&&E(o),t&&E(i);for(let m=0;m<n.length;m+=1)n[m].d();t&&E(l),B(r,t),t&&E(u),B(s,t),g=!1,tt(v)}}}const D=2;function ht(p,e,o){let i;et(p,V,s=>o(4,i=s));let n=null,f=[];function l(s){o(0,n=s.detail)}function r(s){let c=0;s.detail.direction==="left"?c=1:s.detail.direction==="right"&&(c=-1),ot(V,i.currentIndex=st(i.currentIndex,c,D),i)}const u=()=>o(0,n=null);return p.$$.update=()=>{if(p.$$.dirty&16){const s=i.currentIndex;o(1,f=rt.slice(s*D,s*D+D))}},[n,f,l,r,i,u]}class Jt extends W{constructor(e){super(),Z(this,e,ht,_t,J,{})}}export{Jt as default};
