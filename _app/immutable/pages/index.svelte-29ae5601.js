import{S as j,i as K,s as N,w as y,x as T,y as H,z as F,A as b,q as v,o as w,B as P,C as q,e as X,k as A,c as Y,a as B,d as h,m as L,b as O,g as E,O as Q,K as R,p as W,Q as G,n as J}from"../chunks/index-49b9df21.js";import M from"./components/IndexMagicButton/index.svelte-2acd6234.js";import Z from"./components/PokeBox/index.svelte-5ffd187d.js";import k from"./components/DetailPopup/index.svelte-f002f999.js";import"../chunks/index-49512a20.js";import"../chunks/index-30b38f2f.js";import"../chunks/useActions-eb7854e1.js";import"../chunks/toNumber-d8fdaa7d.js";import"../chunks/index-3ad73cac.js";import"../chunks/CircularProgress-27e6fe35.js";import"../chunks/preload-helper-936e422d.js";const U=300,C=60,V="none";function I(r,t,i){return r.addEventListener(t,i),()=>r.removeEventListener(t,i)}function tt(r,t){return t.filter(i=>r.pointerId!==i.pointerId)}function D(r,t,i,s,p){r.dispatchEvent(new CustomEvent(`${t}${p}`,{detail:{event:i,pointersCount:s.length}}))}function et(r,t,i,s,p,n=V){t.style.touchAction=n;let o=[];function c(a){o.push(a),D(t,r,a,o,"down"),s==null||s(o,a);const f=a.pointerId;function l(u){f===u.pointerId&&(o=tt(u,o),o.length||_(),D(t,r,u,o,"up"),p==null||p(o,u))}function _(){g(),$(),e(),m()}const g=I(t,"pointermove",u=>{o=o.map(x=>u.pointerId===x.pointerId?u:x),D(t,r,u,o,"move"),i==null||i(o,u)}),$=I(t,"lostpointercapture",u=>{l(u)}),e=I(t,"pointerup",u=>{l(u)}),m=I(t,"pointerleave",u=>{o=[],_(),D(t,r,u,o,"up"),p==null||p(o,u)})}const d=I(t,"pointerdown",c);return{destroy:()=>{d()}}}function nt(r,t={timeframe:U,minSwipeDistance:C,touchAction:V}){const i="swipe";let s,p,n,o;function c(a,f){p=f.clientX,n=f.clientY,s=Date.now(),a.length===1&&(o=f.target)}function d(a,f){if(f.type==="pointerup"&&a.length===0&&Date.now()-s<t.timeframe){const l=f.clientX-p,_=f.clientY-n,g=Math.abs(l),$=Math.abs(_);let e=null;g>=2*$&&g>t.minSwipeDistance?e=l>0?"right":"left":$>=2*g&&$>t.minSwipeDistance&&(e=_>0?"bottom":"top"),e&&r.dispatchEvent(new CustomEvent(i,{detail:{direction:e,target:o}}))}}return et(i,r,null,c,d,t.touchAction)}function S(r){const t=r.slice(),i=t[2][t[1]];return t[6]=i,t}function z(r){let t,i;const s=[r[6]];let p={};for(let n=0;n<s.length;n+=1)p=q(p,s[n]);return t=new Z({props:p}),t.$on("detail",r[3]),{c(){y(t.$$.fragment)},l(n){T(t.$$.fragment,n)},m(n,o){H(t,n,o),i=!0},p(n,o){const c=o&6?F(s,[b(n[6])]):{};t.$set(c)},i(n){i||(v(t.$$.fragment,n),i=!0)},o(n){w(t.$$.fragment,n),i=!1},d(n){P(t,n)}}}function it(r){var $;let t,i,s,p,n,o,c,d,a,f,l=r[2][r[1]]&&z(S(r));n=new M({});const _=[($=r[0])!=null?$:{}];let g={};for(let e=0;e<_.length;e+=1)g=q(g,_[e]);return c=new k({props:g}),c.$on("close",r[5]),{c(){t=X("div"),i=A(),s=X("div"),l&&l.c(),p=A(),y(n.$$.fragment),o=A(),y(c.$$.fragment),this.h()},l(e){t=Y(e,"DIV",{class:!0}),B(t).forEach(h),i=L(e),s=Y(e,"DIV",{class:!0});var m=B(s);l&&l.l(m),m.forEach(h),p=L(e),T(n.$$.fragment,e),o=L(e),T(c.$$.fragment,e),this.h()},h(){O(t,"class","background svelte-xt58le"),O(s,"class","content svelte-xt58le")},m(e,m){E(e,t,m),E(e,i,m),E(e,s,m),l&&l.m(s,null),E(e,p,m),H(n,e,m),E(e,o,m),H(c,e,m),d=!0,a||(f=[Q(nt.call(null,s)),R(s,"swipe",r[4])],a=!0)},p(e,[m]){var x;e[2][e[1]]?l?(l.p(S(e),m),m&2&&v(l,1)):(l=z(S(e)),l.c(),v(l,1),l.m(s,null)):l&&(J(),w(l,1,1,()=>{l=null}),W());const u=m&1?F(_,[b((x=e[0])!=null?x:{})]):{};c.$set(u)},i(e){d||(v(l),v(n.$$.fragment,e),v(c.$$.fragment,e),d=!0)},o(e){w(l),w(n.$$.fragment,e),w(c.$$.fragment,e),d=!1},d(e){e&&h(t),e&&h(i),e&&h(s),l&&l.d(),e&&h(p),P(n,e),e&&h(o),P(c,e),a=!1,G(f)}}}function ot(r,t,i){let s=null,p=0;const n=[{title:"\u5173\u4E1C 1",rule:"1-50"},{title:"\u5173\u4E1C 2",rule:"51-100"}];function o(a){i(0,s=a.detail)}function c(a){let f=p;a.detail.direction==="left"?(f+=1,f>=n.length&&(f=0)):a.detail.direction==="right"&&(f-=1,f<0&&(f=n.length-1)),i(1,p=f)}return[s,p,n,o,c,()=>i(0,s=null)]}class gt extends j{constructor(t){super(),K(this,t,ot,it,N,{})}}export{gt as default};
