import{S as R,i as W,s as G,w as L,x as S,y as T,z as V,A as q,q as $,o as E,B as H,C as j,e as B,k as y,c as X,a as Y,d as g,m as A,b as z,g as x,_ as J,V as K,p as M,a0 as Q,a1 as Z,n as k,a2 as U}from"../chunks/index-a1512193.js";import{B as P,s as C,m as F}from"../chunks/FilterDialog-d92278eb.js";import tt from"./components/IndexMagicButton/index.svelte-066d5fd0.js";import et from"./components/PokeBox/index.svelte-d283e844.js";import nt from"./components/DetailPopup/index.svelte-7f86caef.js";import"../chunks/Ripple-4e42e3fb.js";import"../chunks/index-db44a7a4.js";import"../chunks/tslib-2c74db2e.js";import"../chunks/_commonjsHelpers-850449cf.js";import"../chunks/isObject-4e76745d.js";import"../chunks/isObjectLike-8567252c.js";import"../chunks/isSymbol-cc5748dc.js";import"../chunks/index-3b993099.js";import"../chunks/index-e7bbd0d1.js";import"../chunks/draggable-d90d0b70.js";import"../chunks/styles-58aceedb.js";import"../chunks/_arrayMap-2f79ae2a.js";import"../chunks/index-381f4a22.js";import"../chunks/paths-c0fc83a9.js";import"../chunks/AttackTypeDialog-5d7513e2.js";import"../chunks/type-chart-calc-58c3fcae.js";import"../chunks/FormDetail-48a0499e.js";import"../chunks/SelectedArrow-277a1198.js";import"../chunks/preload-helper-936e422d.js";import"./components/DetailPopup/components/TitleTag.svelte-c96f4810.js";import"./components/DetailPopup/components/TypeChart.svelte-a5d0bec9.js";import"./components/DetailPopup/components/AvailableTable.svelte-cd0eb903.js";import"./components/DetailPopup/components/AvailableItem.svelte-1d87edd9.js";const it=300,ot=60,N="none";function w(s,t,i){return s.addEventListener(t,i),()=>s.removeEventListener(t,i)}function rt(s,t){return t.filter(i=>s.pointerId!==i.pointerId)}function D(s,t,i,o,l){s.dispatchEvent(new CustomEvent(`${t}${l}`,{detail:{event:i,pointersCount:o.length}}))}function st(s,t,i,o,l,n=N){t.style.touchAction=n;let r=[];function c(a){r.push(a),D(t,s,a,r,"down"),o==null||o(r,a);const d=a.pointerId;function p(m){d===m.pointerId&&(r=rt(m,r),r.length||_(),D(t,s,m,r,"up"),l==null||l(r,m))}function _(){h(),v(),e(),u()}const h=w(t,"pointermove",m=>{r=r.map(I=>m.pointerId===I.pointerId?m:I),D(t,s,m,r,"move"),i==null||i(r,m)}),v=w(t,"lostpointercapture",m=>{p(m)}),e=w(t,"pointerup",m=>{p(m)}),u=w(t,"pointerleave",m=>{r=[],_(),D(t,s,m,r,"up"),l==null||l(r,m)})}const f=w(t,"pointerdown",c);return{destroy:()=>{f()}}}function pt(s,t={timeframe:it,minSwipeDistance:ot,touchAction:N}){const i="swipe";let o,l,n,r;function c(a,d){l=d.clientX,n=d.clientY,o=Date.now(),a.length===1&&(r=d.target)}function f(a,d){if(d.type==="pointerup"&&a.length===0&&Date.now()-o<t.timeframe){const p=d.clientX-l,_=d.clientY-n,h=Math.abs(p),v=Math.abs(_);let e=null;h>=2*v&&h>t.minSwipeDistance?e=p>0?"right":"left":v>=2*h&&v>t.minSwipeDistance&&(e=_>0?"bottom":"top"),e&&s.dispatchEvent(new CustomEvent(i,{detail:{direction:e,target:r}}))}}return st(i,s,null,c,f,t.touchAction)}function b(s){const t=s.slice(),i=P[t[1].currentIndex];return t[5]=i,t}function O(s){let t,i;const o=[s[5]];let l={};for(let n=0;n<o.length;n+=1)l=j(l,o[n]);return t=new et({props:l}),t.$on("detail",s[2]),{c(){L(t.$$.fragment)},l(n){S(t.$$.fragment,n)},m(n,r){T(t,n,r),i=!0},p(n,r){const c=r&2?V(o,[q(n[5])]):{};t.$set(c)},i(n){i||($(t.$$.fragment,n),i=!0)},o(n){E(t.$$.fragment,n),i=!1},d(n){H(t,n)}}}function lt(s){var v;let t,i,o,l,n,r,c,f,a,d,p=P[s[1].currentIndex]&&O(b(s));n=new tt({});const _=[(v=s[0])!=null?v:{}];let h={};for(let e=0;e<_.length;e+=1)h=j(h,_[e]);return c=new nt({props:h}),c.$on("close",s[4]),{c(){t=B("div"),i=y(),o=B("div"),p&&p.c(),l=y(),L(n.$$.fragment),r=y(),L(c.$$.fragment),this.h()},l(e){t=X(e,"DIV",{class:!0}),Y(t).forEach(g),i=A(e),o=X(e,"DIV",{class:!0});var u=Y(o);p&&p.l(u),u.forEach(g),l=A(e),S(n.$$.fragment,e),r=A(e),S(c.$$.fragment,e),this.h()},h(){z(t,"class","background svelte-bghv9m"),z(o,"class","content svelte-bghv9m")},m(e,u){x(e,t,u),x(e,i,u),x(e,o,u),p&&p.m(o,null),x(e,l,u),T(n,e,u),x(e,r,u),T(c,e,u),f=!0,a||(d=[J(pt.call(null,o)),K(o,"swipe",s[3])],a=!0)},p(e,[u]){var I;P[e[1].currentIndex]?p?(p.p(b(e),u),u&2&&$(p,1)):(p=O(b(e)),p.c(),$(p,1),p.m(o,null)):p&&(k(),E(p,1,1,()=>{p=null}),M());const m=u&1?V(_,[q((I=e[0])!=null?I:{})]):{};c.$set(m)},i(e){f||($(p),$(n.$$.fragment,e),$(c.$$.fragment,e),f=!0)},o(e){E(p),E(n.$$.fragment,e),E(c.$$.fragment,e),f=!1},d(e){e&&g(t),e&&g(i),e&&g(o),p&&p.d(),e&&g(l),H(n,e),e&&g(r),H(c,e),a=!1,Q(d)}}}function mt(s,t,i){let o;Z(s,F,f=>i(1,o=f));let l=null;function n(f){i(0,l=f.detail)}function r(f){let a=0;f.detail.direction==="left"?a=1:f.detail.direction==="right"&&(a=-1),U(F,o.currentIndex=C(o.currentIndex,a),o)}return[l,o,n,r,()=>i(0,l=null)]}class Ot extends R{constructor(t){super(),W(this,t,mt,lt,G,{})}}export{Ot as default};
