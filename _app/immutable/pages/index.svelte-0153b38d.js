import{S as N,i as Q,s as R,w as L,x as S,y as T,z as F,A as q,q as $,o as E,B as H,C as V,e as j,k as b,c as B,a as X,d as g,m as y,b as Y,g as x,O as W,K as G,p as J,Q as M,a9 as Z,n as k,ab as U}from"../chunks/index-c2253f95.js";import C from"./components/IndexMagicButton/index.svelte-d6d1010d.js";import tt from"./components/PokeBox/index.svelte-de5dbb6b.js";import et from"./components/DetailPopup/index.svelte-664634c5.js";import{B as P,s as nt,m as O}from"../chunks/FilterDialog-d75a9c9f.js";import"../chunks/index-1c0d18e4.js";import"../chunks/index-c6419c8f.js";import"../chunks/useActions-00974d6b.js";import"../chunks/styles-41f42265.js";import"../chunks/isSymbol-1f6d690f.js";import"../chunks/index-a3775a32.js";import"../chunks/CircularProgress-c7a11c61.js";import"../chunks/preload-helper-936e422d.js";const it=300,ot=60,K="none";function w(s,t,i){return s.addEventListener(t,i),()=>s.removeEventListener(t,i)}function rt(s,t){return t.filter(i=>s.pointerId!==i.pointerId)}function D(s,t,i,o,p){s.dispatchEvent(new CustomEvent(`${t}${p}`,{detail:{event:i,pointersCount:o.length}}))}function st(s,t,i,o,p,n=K){t.style.touchAction=n;let r=[];function a(u){r.push(u),D(t,s,u,r,"down"),o==null||o(r,u);const d=u.pointerId;function l(c){d===c.pointerId&&(r=rt(c,r),r.length||_(),D(t,s,c,r,"up"),p==null||p(r,c))}function _(){h(),v(),e(),f()}const h=w(t,"pointermove",c=>{r=r.map(I=>c.pointerId===I.pointerId?c:I),D(t,s,c,r,"move"),i==null||i(r,c)}),v=w(t,"lostpointercapture",c=>{l(c)}),e=w(t,"pointerup",c=>{l(c)}),f=w(t,"pointerleave",c=>{r=[],_(),D(t,s,c,r,"up"),p==null||p(r,c)})}const m=w(t,"pointerdown",a);return{destroy:()=>{m()}}}function lt(s,t={timeframe:it,minSwipeDistance:ot,touchAction:K}){const i="swipe";let o,p,n,r;function a(u,d){p=d.clientX,n=d.clientY,o=Date.now(),u.length===1&&(r=d.target)}function m(u,d){if(d.type==="pointerup"&&u.length===0&&Date.now()-o<t.timeframe){const l=d.clientX-p,_=d.clientY-n,h=Math.abs(l),v=Math.abs(_);let e=null;h>=2*v&&h>t.minSwipeDistance?e=l>0?"right":"left":v>=2*h&&v>t.minSwipeDistance&&(e=_>0?"bottom":"top"),e&&s.dispatchEvent(new CustomEvent(i,{detail:{direction:e,target:r}}))}}return st(i,s,null,a,m,t.touchAction)}function A(s){const t=s.slice(),i=P[t[1].currentIndex];return t[5]=i,t}function z(s){let t,i;const o=[s[5]];let p={};for(let n=0;n<o.length;n+=1)p=V(p,o[n]);return t=new tt({props:p}),t.$on("detail",s[2]),{c(){L(t.$$.fragment)},l(n){S(t.$$.fragment,n)},m(n,r){T(t,n,r),i=!0},p(n,r){const a=r&2?F(o,[q(n[5])]):{};t.$set(a)},i(n){i||($(t.$$.fragment,n),i=!0)},o(n){E(t.$$.fragment,n),i=!1},d(n){H(t,n)}}}function pt(s){var v;let t,i,o,p,n,r,a,m,u,d,l=P[s[1].currentIndex]&&z(A(s));n=new C({});const _=[(v=s[0])!=null?v:{}];let h={};for(let e=0;e<_.length;e+=1)h=V(h,_[e]);return a=new et({props:h}),a.$on("close",s[4]),{c(){t=j("div"),i=b(),o=j("div"),l&&l.c(),p=b(),L(n.$$.fragment),r=b(),L(a.$$.fragment),this.h()},l(e){t=B(e,"DIV",{class:!0}),X(t).forEach(g),i=y(e),o=B(e,"DIV",{class:!0});var f=X(o);l&&l.l(f),f.forEach(g),p=y(e),S(n.$$.fragment,e),r=y(e),S(a.$$.fragment,e),this.h()},h(){Y(t,"class","background svelte-1mb8ij"),Y(o,"class","content svelte-1mb8ij")},m(e,f){x(e,t,f),x(e,i,f),x(e,o,f),l&&l.m(o,null),x(e,p,f),T(n,e,f),x(e,r,f),T(a,e,f),m=!0,u||(d=[W(lt.call(null,o)),G(o,"swipe",s[3])],u=!0)},p(e,[f]){var I;P[e[1].currentIndex]?l?(l.p(A(e),f),f&2&&$(l,1)):(l=z(A(e)),l.c(),$(l,1),l.m(o,null)):l&&(k(),E(l,1,1,()=>{l=null}),J());const c=f&1?F(_,[q((I=e[0])!=null?I:{})]):{};a.$set(c)},i(e){m||($(l),$(n.$$.fragment,e),$(a.$$.fragment,e),m=!0)},o(e){E(l),E(n.$$.fragment,e),E(a.$$.fragment,e),m=!1},d(e){e&&g(t),e&&g(i),e&&g(o),l&&l.d(),e&&g(p),H(n,e),e&&g(r),H(a,e),u=!1,M(d)}}}function ct(s,t,i){let o;Z(s,O,m=>i(1,o=m));let p=null;function n(m){i(0,p=m.detail)}function r(m){let u=0;m.detail.direction==="left"?u=1:m.detail.direction==="right"&&(u=-1),U(O,o.currentIndex=nt(o.currentIndex,u),o)}return[p,o,n,r,()=>i(0,p=null)]}class Et extends N{constructor(t){super(),Q(this,t,ct,pt,R,{})}}export{Et as default};
