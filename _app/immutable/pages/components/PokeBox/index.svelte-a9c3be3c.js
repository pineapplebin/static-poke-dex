import{$ as z,S as F,i as J,s as L,e as x,t as I,c as y,a as w,h as R,d as h,b as D,g as b,J as g,j as N,w as U,k as P,x as G,m as V,y as H,V as K,ak as Q,al as W,q as O,ag as X,o as T,B as Y,R as Z,p as $,a1 as S,a8 as ee,ai as te,n as se,am as le,E as oe,a2 as ie}from"../../../chunks/index-b677f905.js";import{c as re,s as ae}from"../../../chunks/index-71d09209.js";import{P as ne}from"../../../chunks/index-2e728f01.js";import{m as ce}from"../../../chunks/magicButtonData-1d11839b.js";import{m as q}from"../../../chunks/memoryData-259d91a4.js";import"../../../chunks/index-5af352b9.js";import"../../../chunks/isObject-4e76745d.js";import"../../../chunks/isObjectLike-a1b535b6.js";import"../../../chunks/_commonjsHelpers-850449cf.js";import"../../../chunks/isSymbol-fd7712af.js";function fe(n,{from:t,to:e},o={}){const c=getComputedStyle(n),d=c.transform==="none"?"":c.transform,[f,a]=c.transformOrigin.split(" ").map(parseFloat),s=t.left+t.width*f/e.width-(e.left+f),p=t.top+t.height*a/e.height-(e.top+a),{delay:_=0,duration:u=k=>Math.sqrt(k)*120,easing:m=re}=o;return{delay:_,duration:z(u)?u(Math.sqrt(s*s+p*p)):u,easing:m,css:(k,l)=>{const i=l*s,r=l*p,v=k+l*t.width/e.width,E=k+l*t.height/e.height;return`transform: ${d} translate(${i}px, ${r}px) scale(${v}, ${E});`}}}function ue(n){const t=n.split(","),e=[];return t.forEach(o=>{/^\d+\-\d+$/.test(o)?e.push(...me(o)):o.indexOf("|")>-1?e.push(pe(o)):isNaN(+o)||e.push({no:+o})}),e}function me(n){const[t,e]=n.split("-").map(o=>+o);return new Array(e-t+1).fill(null).map((o,c)=>({no:t+c}))}function pe(n){const[t,e,o]=n.split("|");return{no:+t,form:o?`${e}-${o}`:e,icon:o?e:void 0}}function A(n,t,e){const o=n.slice();return o[11]=t[e],o[1]=e,o}function j(n){let t,e,o=n[1]+1+"",c,d;return{c(){t=x("sup"),e=I("["),c=I(o),d=I("]"),this.h()},l(f){t=y(f,"SUP",{class:!0});var a=w(t);e=R(a,"["),c=R(a,o),d=R(a,"]"),a.forEach(h),this.h()},h(){D(t,"class","svelte-19073ke")},m(f,a){b(f,t,a),g(t,e),g(t,c),g(t,d)},p(f,a){a&2&&o!==(o=f[1]+1+"")&&N(c,o)},d(f){f&&h(t)}}}function C(n){let t,e,o,c,d,f,a;return{c(){t=x("div"),e=P(),o=x("div"),c=P(),d=x("div"),f=P(),a=x("div"),this.h()},l(s){t=y(s,"DIV",{class:!0}),w(t).forEach(h),e=V(s),o=y(s,"DIV",{class:!0}),w(o).forEach(h),c=V(s),d=y(s,"DIV",{class:!0}),w(d).forEach(h),f=V(s),a=y(s,"DIV",{class:!0}),w(a).forEach(h),this.h()},h(){D(t,"class","temp-mark top-left svelte-19073ke"),D(o,"class","temp-mark top-right svelte-19073ke"),D(d,"class","temp-mark bottom-left svelte-19073ke"),D(a,"class","temp-mark bottom-right svelte-19073ke")},m(s,p){b(s,t,p),b(s,e,p),b(s,o,p),b(s,c,p),b(s,d,p),b(s,f,p),b(s,a,p)},d(s){s&&h(t),s&&h(e),s&&h(o),s&&h(c),s&&h(d),s&&h(f),s&&h(a)}}}function M(n,t){var l;let e,o,c,d,f,a,s=oe,p,_,u;o=new ne({props:{no:t[11].no,form:(l=t[11].icon)!=null?l:t[11].form}});let m=t[3].selectedPoke[`${t[11].no}-${t[11].form}`]&&C();function k(...i){return t[7](t[11],...i)}return{key:n,first:null,c(){e=x("div"),U(o.$$.fragment),c=P(),m&&m.c(),d=P(),this.h()},l(i){e=y(i,"DIV",{class:!0});var r=w(e);G(o.$$.fragment,r),c=V(r),m&&m.l(r),d=V(r),r.forEach(h),this.h()},h(){D(e,"class","box-cell svelte-19073ke"),this.first=e},m(i,r){b(i,e,r),H(o,e,null),g(e,c),m&&m.m(e,null),g(e,d),p=!0,_||(u=K(e,"click",k),_=!0)},p(i,r){var E;t=i;const v={};r&4&&(v.no=t[11].no),r&4&&(v.form=(E=t[11].icon)!=null?E:t[11].form),o.$set(v),t[3].selectedPoke[`${t[11].no}-${t[11].form}`]?m||(m=C(),m.c(),m.m(e,d)):m&&(m.d(1),m=null)},r(){a=e.getBoundingClientRect()},f(){Q(e),s()},a(){s(),s=W(e,a,fe,{})},i(i){p||(O(o.$$.fragment,i),f||X(()=>{f=te(e,ae,{duration:80,start:.5,opacity:.3}),f.start()}),p=!0)},o(i){T(o.$$.fragment,i),p=!1},d(i){i&&h(e),Y(o),m&&m.d(),_=!1,u()}}}function de(n){let t,e,o,c,d,f,a,s=[],p=new Map,_,u=n[1]>-1&&j(n),m=n[2];const k=l=>l[1];for(let l=0;l<m.length;l+=1){let i=A(n,m,l),r=k(i);p.set(r,s[l]=M(r,i))}return{c(){t=x("div"),e=x("div"),o=x("span"),c=I(n[0]),d=P(),u&&u.c(),f=P(),a=x("div");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){t=y(l,"DIV",{class:!0});var i=w(t);e=y(i,"DIV",{class:!0});var r=w(e);o=y(r,"SPAN",{});var v=w(o);c=R(v,n[0]),v.forEach(h),d=V(r),u&&u.l(r),r.forEach(h),f=V(i),a=y(i,"DIV",{class:!0});var E=w(a);for(let B=0;B<s.length;B+=1)s[B].l(E);E.forEach(h),i.forEach(h),this.h()},h(){D(e,"class","title svelte-19073ke"),D(a,"class","box svelte-19073ke"),D(t,"class","container")},m(l,i){b(l,t,i),g(t,e),g(e,o),g(o,c),g(e,d),u&&u.m(e,null),g(t,f),g(t,a);for(let r=0;r<s.length;r+=1)s[r].m(a,null);_=!0},p(l,[i]){if((!_||i&1)&&N(c,l[0]),l[1]>-1?u?u.p(l,i):(u=j(l),u.c(),u.m(e,null)):u&&(u.d(1),u=null),i&28){m=l[2],se();for(let r=0;r<s.length;r+=1)s[r].r();s=Z(s,i,k,1,l,m,p,a,le,M,null,A);for(let r=0;r<s.length;r+=1)s[r].a();$()}},i(l){if(!_){for(let i=0;i<m.length;i+=1)O(s[i]);_=!0}},o(l){for(let i=0;i<s.length;i+=1)T(s[i]);_=!1},d(l){l&&h(t),u&&u.d();for(let i=0;i<s.length;i+=1)s[i].d()}}}function he(n,t,e){let o,c;S(n,q,l=>e(3,o=l)),S(n,ce,l=>e(8,c=l));const d=ee();let{index:f=-1}=t,{title:a=""}=t,{rule:s=""}=t,p=[],_=0;function u(l,i,r){if(i>=l.length)return;const v=4;return setTimeout(()=>{_===r&&(p.push(...l.slice(i,i+v)),e(2,p),e(5,s),e(6,_),u(l,i+v,r))},50)}function m(l){setTimeout(()=>{if(c.mode==="select"){const i=`${l.no}-${l.form}`;ie(q,o.selectedPoke[i]=!o.selectedPoke[i],o)}else d("detail",l)},100)}const k=(l,i)=>{i.preventDefault(),m(l)};return n.$$set=l=>{"index"in l&&e(1,f=l.index),"title"in l&&e(0,a=l.title),"rule"in l&&e(5,s=l.rule)},n.$$.update=()=>{n.$$.dirty&96&&s&&(e(6,_+=1),e(2,p=[]),u(ue(s),0,_))},[a,f,p,o,m,s,_,k]}class Pe extends F{constructor(t){super(),J(this,t,he,de,L,{index:1,title:0,rule:5})}}export{Pe as default};
